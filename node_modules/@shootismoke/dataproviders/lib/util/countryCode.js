"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
exports.__esModule = true;
exports.getCountryFromCode = exports.getCountryCode = void 0;
var countries_json_1 = __importDefault(require("./countries.json"));
/**
 * Sanitize a country name.
 *
 * @ignore
 */
function sanitize(input) {
    return (input
        // Lowercase
        .toLowerCase()
        // Remove all spaces
        .replace(/ /g, '')
        // Remove all "-"
        .replace(/-/g, ''));
}
/**
 * Given a country name, gets the ISO 3166-1 Alpha-2 code of the country.
 *
 * @param input - The country name, can contain multiple spaces, dashes...
 * @example
 * ```typescript
 * getCountryCode('united   States'); // 'US'
 * ```
 */
function getCountryCode(input) {
    var _a;
    return (_a = countries_json_1["default"].find(function (_a) {
        var code = _a.code, name = _a.name, others = _a.others;
        var sName = sanitize(name);
        var sInput = sanitize(input);
        return (sName === sInput ||
            code === sInput ||
            sInput.includes(sName) ||
            others.includes(sInput));
    })) === null || _a === void 0 ? void 0 : _a.code;
}
exports.getCountryCode = getCountryCode;
/**
 * getCountryFromCode gets the country name from its ISO 3166-1 Alpha-2 code.
 *
 * @param code - The ISO 3166-1 Alpha-2 code of the country.
 */
function getCountryFromCode(code) {
    var _a;
    return (_a = countries_json_1["default"].find(function (country) { return country.code === code; })) === null || _a === void 0 ? void 0 : _a.name;
}
exports.getCountryFromCode = getCountryFromCode;
